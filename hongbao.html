<!DOCTYPE html>
<html lang="en">
<head>
    <title>快速领取</title>
    <meta property="og:type" content="website" />
    <meta property="og:title" content="">
    <meta property="og:description" content="0-99随机数额！">
    <meta property="og:image" content="http://pic.i7391.com/game/game_pic_8931.jpg">
    <meta property="og:url" content="">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Title</title>
    <style>
        *{
            margin:0;
        }
        html,body{
            background-color: rgb(30, 129, 210);
            width: 100%;
            height:100%;
        }
        .btn-get{
            bottom: 10%;
            text-align: center;
            width: 50%;
            margin-left: auto;
            margin-right:auto;
            background: linear-gradient(rgb(253, 243, 111),rgb(255, 207, 9)) ;
            color: rgb(255, 1, 80);
            padding: 11px;
            border-radius: 6px;
            font-size: 1.4em;
            font-weight:bold;
        }
        .btn-container{
            position: relative;
            flex-grow: 1;

        }
        .container {
            display: flex;
            flex-direction: column;
            height: 100%;
        }
        .content{
            flex-grow: 9;

        }
        .info{
            text-align: center;
            color:#E8E8E8;
            font-size: .5em;
            margin-bottom: 7px;
            overflow: hidden;
            position: relative;
            height:2em;
        }
        .info span{
            animation-timing-function: linear;
            transform: translateY(200px);
            animation-duration:.5s ;
            animation-fill-mode: forwards;
            display: inline-block;
            position: absolute;
            left:0;
            right:0;

            margin: auto;
        }
        @keyframes show {
            from{
                transform: translateY(50px);
            }
            to {
                transform: translateY(0px);
            }
        }
        @keyframes hide {
            from
            {
                transform: translateY(0px);
            }
            to{
                transform: translateY(-50px);
            }
        }
        .hideText
        {
            text-indent:-9999px;
            display:block;
            position: absolute;
            left: -9999px;
        }
        .pop-window-container{
            width:100%;
            height:100%;
            display: flex;
            justify-content: center;
            position: absolute;
            top:0;
        }
        .pop-window{


            flex-grow: 8;
            height:55%;
            align-self: center;
            background-color: white;
            border-radius: 7px;
            transform: rotate(0deg)
            position: relative;
            overflow: hidden;
        }
        .btn-pop-close{
            transition: .1s;
            position: absolute;
            right:0;
            bottom:0;
            width: 4em;
            height:4em;
            background: lightskyblue;
            border-top-left-radius: 4em;
            text-align: right;

            line-height:4em;
        }
        .blur {
        filter: blur(7px);

        }

        @keyframes pop-out {
            from{
                flex-grow: 0;
                height: 0;
            }
            to{
                flex-grow: 8;

                height:55%;
            }
        }
    </style>
</head>
<body onselectstart="return false">
<span class="hideText" id="hongbao">L8V0oF37Im
    </span>
<div class="container">
    <div class ="content">
    </div>
<div class="btn-container">
    <div class="info">
        <span data-index ='0'>555</span>
        <span data-index = '1'></span>
    </div>
<div id="btn-get" class="btn-get">领取红包</div>
</div>
</div>
<div class="pop-window-container">
    <div style="flex-grow: 1"></div>
    <div class="pop-window">
        <div class="btn-pop-close"><svg  style="    vertical-align: middle;" xmlns="http://www.w3.org/2000/svg" width="3em" height="3em" viewBox="0 0 24 24">
            <path fill="none" d="M0 0h24v24H0z"/>
            <path fill="#ffffff" d="M9 16.2L4.8 12l-1.4 1.4L9 19 21 7l-1.4-1.4L9 16.2z"/>
        </svg>
        </div>
    </div>
    <div style="flex-grow: 1"></div>
</div>
<script>
    var nameDom = [
        document.getElementsByTagName("span")[1],
        document.getElementsByTagName("span")[2]
    ]
    function getNameCount() {
        return Math.round(Math.random()*1)+1;
    }
    function active_blur(dom) {
        dom.classList.add("blur");
    }
    function deactive_blur(dom) {
        dom.remove("blur");
    }
    function getText() {

        var  count = getNameCount();
        var text="*";
        for(var i = 0 ; i < count ;i ++)
        {
            text += eval(  '"\\u' + (Math.round(Math.random() * 20901) + 19968).toString(16)+'"');

        }
        text += "已获得"+(Math.random()*25).toFixed(2)+"元红包"
        return text;
    }
    function  setName(index) {
        nameDom[index].innerHTML = getText();
    }
    function show(index)
    {
        nameDom[index].style.animationName = "show" ;
    }
    function hide(index) {
        nameDom[index].style.animationName = "hide";

    }
    function copyArticle(event) {
        const range = document.createRange();
        range.selectNode(document.getElementById('hongbao'));

        const selection = window.getSelection();
        if(selection.rangeCount > 0) selection.removeAllRanges();
        selection.addRange(range);
        document.execCommand('copy');
    }
    (function () {
        document.getElementById("btn-get").addEventListener('click', copyArticle, false);
        nameDom.forEach(function (k,i) {
console.log(i);
            nameDom[i].addEventListener("animationend",function () {
                if( this.style.animationName == "hide")
                {
                    setName(this.dataset.index);
                }
            })
        })

        var nowShowIndex = 0;
        var nowHideIndex = 1;
        setName(0);
        setName(1);
        window.setInterval(function () {
            show(nowShowIndex);
            hide(nowHideIndex);
            if(nowShowIndex == 0)
            {
                nowShowIndex = 1;
                nowHideIndex = 0;

            }
            else{
                nowShowIndex = 0;
                nowHideIndex = 1;

            }
        },1500)
    })()

</script>
</body>
</html>